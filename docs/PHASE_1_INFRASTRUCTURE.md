# –§–∞–∑–∞ 1: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

–≠—Ç–∞ —Ñ–∞–∑–∞ –ø–æ—Å–≤—è—â–µ–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞. –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º RustTTS –∫–∞–∫ –¥–æ–Ω–æ—Ä –∫–æ–¥–∞.

## –ó–∞–¥–∞—á–∏

### 1.1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Workspace
- [ ] –°–æ–∑–¥–∞—Ç—å `Cargo.toml` —Å `[workspace]` –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏:
    * Edition 2024
    * Resolver version 2
    * –û–±—â–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ `[workspace.dependencies]`
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫:
    ```
    RustASR/
    ‚îú‚îÄ‚îÄ Cargo.toml (workspace)
    ‚îú‚îÄ‚îÄ crates/
    ‚îÇ   ‚îú‚îÄ‚îÄ common/        # –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã
    ‚îÇ   ‚îú‚îÄ‚îÄ audio/         # –ê—É–¥–∏–æ –ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥ (–§–∞–∑–∞ 2)
    ‚îÇ   ‚îú‚îÄ‚îÄ aut-encoder/   # AuT Encoder (–§–∞–∑–∞ 3)
    ‚îÇ   ‚îî‚îÄ‚îÄ cli/           # CLI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–§–∞–∑–∞ 4)
    ‚îú‚îÄ‚îÄ models/            # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –≤–µ—Å–æ–≤
    ‚îî‚îÄ‚îÄ tests/             # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
    ```
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `.gitignore` (–∏—Å–∫–ª—é—á–∏—Ç—å `models/`, `target/`, `Cargo.lock` –¥–ª—è –±–∏–±–ª–∏–æ—Ç–µ–∫).
- [ ] –°–æ–∑–¥–∞—Ç—å `rust-toolchain.toml` —Å –≤–µ—Ä—Å–∏–µ–π Rust 1.80+.

### 1.2. –ë–∞–∑–æ–≤—ã–µ –ö—Ä–µ–π—Ç—ã
- [ ] –°–æ–∑–¥–∞—Ç—å `crates/common` —Å –±–∞–∑–æ–≤—ã–º–∏ —É—Ç–∏–ª–∏—Ç–∞–º–∏:
    * –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (tracing/env_logger)
    * –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (serde, toml)
    * –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (thiserror/anyhow)
- [ ] –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ RustTTS:
    * –¢–æ–∫–µ–Ω–∏–∑–∞—Ç–æ—Ä (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º)
    * –£—Ç–∏–ª–∏—Ç—ã —Ä–∞–±–æ—Ç—ã —Å safetensors
    * –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- [ ] –°–æ–∑–¥–∞—Ç—å `crates/qwen3-model` –¥–ª—è LLM –¥–µ–∫–æ–¥–µ—Ä–∞:
    * –°—Ç—Ä—É–∫—Ç—É—Ä—ã –º–æ–¥–µ–ª–∏ Qwen3
    * –ó–∞–≥—Ä—É–∑–∫–∞ –≤–µ—Å–æ–≤
    * Inference pipeline
    * *–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ*: –î–ª—è ASR –Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ –¥–µ–∫–æ–¥–µ—Ä, –º–æ–∂–Ω–æ –≤—ã–¥–µ–ª–∏—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫—Ä–µ–π—Ç

### 1.3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Candle
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ `Cargo.toml`:
    ```toml
    candle-core = "0.8"
    candle-nn = "0.8"
    candle-transformers = "0.8"
    ```
- [ ] –í–∫–ª—é—á–∏—Ç—å feature flags –¥–ª—è –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–≥–æ —É—Å–∫–æ—Ä–µ–Ω–∏—è:
    * `metal` –¥–ª—è macOS (Apple Silicon)
    * `cuda` –¥–ª—è NVIDIA GPU (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    * `accelerate` –¥–ª—è CPU –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π –Ω–∞ macOS
- [ ] –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É "Hello World":
    * –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ–≥–æ —Ç–µ–Ω–∑–æ—Ä–∞
    * –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (matmul)
    * –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –Ω–∞ Metal/CPU
- [ ] –ò–∑–º–µ—Ä–∏—Ç—å baseline –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–ø—Ä–æ—Å—Ç–æ–π matmul benchmark).

### 1.4. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CI/CD (GitHub Actions):
    * –°–±–æ—Ä–∫–∞ –Ω–∞ macOS –∏ Linux
    * –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
    * –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (rustfmt)
    * –õ–∏–Ω—Ç–∏–Ω–≥ (clippy)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å pre-commit hooks (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ).
- [ ] –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–π README.md —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –ø–æ —Å–±–æ—Ä–∫–µ.

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ó–∞–≤–µ—Ä—à–µ–Ω–∏—è (Definition of Done)

- Workspace —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–æ–π `cargo build`
- –í—Å–µ –∫—Ä–µ–π—Ç—ã –∏–º–µ—é—Ç –±–∞–∑–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ `Cargo.toml`
- "Hello World" –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Å Candle —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Ü–µ–ª–µ–≤–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ (Metal/CPU)
- –ù–∞—Å—Ç—Ä–æ–µ–Ω –ª–∏–Ω—Ç–∏–Ω–≥ (cargo clippy –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫)
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É (cargo fmt)
- –°–æ–∑–¥–∞–Ω–∞ –±–∞–∑–æ–≤–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (README.md)

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –£—Å–ø–µ—Ö–∞

- –í—Ä–µ–º—è —Å–±–æ—Ä–∫–∏ workspace: < 5 –º–∏–Ω—É—Ç (clean build)
- –†–∞–∑–º–µ—Ä —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –±–∏–Ω–∞—Ä–Ω–∏–∫–æ–≤: < 100MB (debug)
- Candle Hello World –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ –Ω–∞ Metal/CPU
- –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –Ω–∞ CI/CD (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)

## ‚ö†Ô∏è –†–∏—Å–∫–∏ –∏ –ú–∏—Ç–∏–≥–∞—Ü–∏—è

| –†–∏—Å–∫ | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –í–ª–∏—è–Ω–∏–µ | –ú–∏—Ç–∏–≥–∞—Ü–∏—è |
|------|-------------|---------|-----------|
| –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –≤–µ—Ä—Å–∏–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π | –°—Ä–µ–¥–Ω—è—è | –°—Ä–µ–¥–Ω–µ–µ | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å locked –≤–µ—Ä—Å–∏–∏, —Ä–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å |
| –ü—Ä–æ–±–ª–µ–º—ã —Å Metal backend –Ω–∞ —Å—Ç–∞—Ä—ã—Ö macOS | –ù–∏–∑–∫–∞—è | –°—Ä–µ–¥–Ω–µ–µ | Fallback –Ω–∞ CPU, —É–∫–∞–∑–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è |
| –î–æ–ª–≥–æ–µ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ Candle | –í—ã—Å–æ–∫–∞—è | –ù–∏–∑–∫–æ–µ | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å sccache, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å features |
| –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –ø—Ä–∏ –ø–µ—Ä–µ–Ω–æ—Å–µ –∫–æ–¥–∞ –∏–∑ RustTTS | –°—Ä–µ–¥–Ω—è—è | –°—Ä–µ–¥–Ω–µ–µ | –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ, –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ –Ω–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É |

## üîó –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### –ó–∞–≤–∏—Å–∏—Ç –æ—Ç:
- –ù–∞–ª–∏—á–∏–µ RustTTS –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–∞
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π Rust toolchain 1.80+
- macOS —Å Apple Silicon (–¥–ª—è Metal) –∏–ª–∏ Linux/Windows

### –ë–ª–æ–∫–∏—Ä—É–µ—Ç:
- **–§–∞–∑–∞ 2, 3, 4**: –í—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–∑—ã –∑–∞–≤–∏—Å—è—Ç –æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

## üß™ –ü–ª–∞–Ω –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **Smoke-—Ç–µ—Å—Ç—ã**:
   - `cargo build --all` –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
   - `cargo test --all` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
   - `cargo clippy --all` –Ω–µ –≤—ã–¥–∞–µ—Ç –æ—à–∏–±–æ–∫

2. **Candle Integration Test**:
   - –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–Ω–∑–æ—Ä–æ–≤ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö (CPU, Metal)
   - –ü—Ä–æ—Å—Ç—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (add, mul, matmul)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

3. **Benchmark-—Ç–µ—Å—Ç—ã**:
   - –ò–∑–º–µ—Ä–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ matmul –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–µ–π
   - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ CPU vs Metal –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## üìã –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ –§–∞–∑–µ 2

- [ ] Workspace —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–∑–¥–∞–Ω–∞ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞
- [ ] –í—Å–µ –±–∞–∑–æ–≤—ã–µ –∫—Ä–µ–π—Ç—ã –∫–æ–º–ø–∏–ª–∏—Ä—É—é—Ç—Å—è
- [ ] Candle —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Ü–µ–ª–µ–≤–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ
- [ ] CI/CD –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–∏–ª–∏ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω)
- [ ] –ö–æ–º–∞–Ω–¥–∞ –º–æ–∂–µ—Ç –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É –Ω–∞–¥ –§–∞–∑–æ–π 2 –±–µ–∑ –±–ª–æ–∫–µ—Ä–æ–≤

## üìö –†–µ—Ñ–µ—Ä–µ–Ω—Å—ã

- [Candle Framework Documentation](https://github.com/huggingface/candle)
- [RustTTS Project](../RustTTS)
- [Cargo Workspace Documentation](https://doc.rust-lang.org/cargo/reference/workspaces.html)
- [Rust Edition Guide](https://doc.rust-lang.org/edition-guide/)
