# –§–∞–∑–∞ 4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏ Inference

–§–∏–Ω–∞–ª—å–Ω–∞—è —Ñ–∞–∑–∞ - —Å–±–æ—Ä–∫–∞ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ —Ä–∞–±–æ—Ç–∞—é—â—É—é —Å–∏—Å—Ç–µ–º—É —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏.

## –ó–∞–¥–∞—á–∏

### 4.1. Audio Projector
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–ª–æ–π –ø—Ä–æ–µ–∫—Ü–∏–∏ –¥–ª—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–µ–π:
    * Input: `[batch, seq_len, encoder_dim]` (896 –∏–ª–∏ 1024)
    * Output: `[batch, seq_len, llm_dim]` (—Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å Qwen3)
- [ ] –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
    * Linear projection (–ø—Ä–æ—Å—Ç–æ–π, –±—ã—Å—Ç—Ä—ã–π)
    * MLP —Å 1-2 —Å–∫—Ä—ã—Ç—ã–º–∏ —Å–ª–æ—è–º–∏ (–±–æ–ª–µ–µ –≥–∏–±–∫–∏–π)
- [ ] –î–æ–±–∞–≤–∏—Ç—å LayerNorm –ø–æ—Å–ª–µ –ø—Ä–æ–µ–∫—Ü–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ).
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ –≤–µ—Å–æ–≤ –ø—Ä–æ–µ–∫—Ç–æ—Ä–∞ –∏–∑ `.safetensors`.

### 4.2. End-to-End Pipeline
- [ ] –°–æ–∑–¥–∞—Ç—å `AsrPipeline` struct —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏:
    * `feature_extractor: FeatureExtractor`
    * `audio_encoder: AuTEncoder`
    * `projector: AudioProjector`
    * `llm: Qwen3Model`
    * `tokenizer: Tokenizer`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `transcribe()`:
    ```rust
    pub fn transcribe(&self, audio_path: &str) -> Result<String>
    ```
- [ ] –§–ª–æ—É –æ–±—Ä–∞–±–æ—Ç–∫–∏:
    ```
    Audio File (.wav)
      ‚Üì
    FeatureExtractor ‚Üí Mel Spectrogram [batch, time, 128]
      ‚Üì
    AuT Encoder ‚Üí Audio Embeddings [batch, time/8, encoder_dim]
      ‚Üì
    Projector ‚Üí LLM Embeddings [batch, time/8, llm_dim]
      ‚Üì
    Qwen3 LLM ‚Üí Text Token IDs
      ‚Üì
    Tokenizer Decode ‚Üí Transcribed Text (String)
    ```
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É batch inference (–Ω–µ—Å–∫–æ–ª—å–∫–æ –∞—É–¥–∏–æ —Ñ–∞–π–ª–æ–≤).
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å streaming inference (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è real-time).

### 4.3. CLI –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- [ ] –°–æ–∑–¥–∞—Ç—å `crates/cli` —Å –±–∏–Ω–∞—Ä–Ω–∏–∫–æ–º `rustasr`.
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏:
    ```bash
    rustasr transcribe \
      --model <path_to_model> \
      --audio <path_to_wav> \
      [--device <cpu|metal|cuda>] \
      [--batch-size <size>] \
      [--language <auto|en|zh|...>]
    ```
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã:
    * `transcribe`: –†–∞—Å–ø–æ–∑–Ω–∞—Ç—å –æ–¥–∏–Ω –∞—É–¥–∏–æ —Ñ–∞–π–ª
    * `batch`: –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å –∞—É–¥–∏–æ
    * `benchmark`: –ò–∑–º–µ—Ä–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- [ ] –í—ã–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:
    * –†–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –≤ stdout
    * –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: JSON —Ñ–æ—Ä–º–∞—Ç —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ (–≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏, —è–∑—ã–∫, confidence)
- [ ] –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –∞—É–¥–∏–æ (—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `indicatif`).
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏.

### 4.4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏ –î–æ—Ä–∞–±–æ—Ç–∫–∏
- [ ] KV-cache –¥–ª—è LLM –¥–µ–∫–æ–¥–µ—Ä–∞ (—É—Å–∫–æ—Ä–µ–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏).
- [ ] Mixed precision inference (FP16/BF16).
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–ª–∏–Ω–Ω—ã—Ö –∞—É–¥–∏–æ (chunking + merging).
- [ ] –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π postprocessing (–ø—É–Ω–∫—Ç—É–∞—Ü–∏—è, –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è).

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ó–∞–≤–µ—Ä—à–µ–Ω–∏—è (Definition of Done)

- CLI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ –∞—É–¥–∏–æ —Ñ–∞–π–ª—ã
- –¢–æ—á–Ω–æ—Å—Ç—å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç Python-–≤–µ—Ä—Å–∏–∏ (WER –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö 1%)
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–æ—Å—Ç–∏–≥–∞–µ—Ç —Ü–µ–ª–µ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫ (RTF < 0.5)
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è CLI
- –ù–∞–ø–∏—Å–∞–Ω—ã end-to-end —Ç–µ—Å—Ç—ã –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –ø–∞–π–ø–ª–∞–π–Ω–∞
- CLI –≤—ã–¥–∞–µ—Ç –ø–æ–Ω—è—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏ –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö (—Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω, –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∏ —Ç.–¥.)

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –£—Å–ø–µ—Ö–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –¶–µ–ª–µ–≤–æ–µ –ó–Ω–∞—á–µ–Ω–∏–µ | –ò–∑–º–µ—Ä–µ–Ω–∏–µ |
|---------|------------------|-----------|
| Word Error Rate (WER) | < 10% | –ù–∞ —Ç–µ—Å—Ç–æ–≤–æ–º –Ω–∞–±–æ—Ä–µ (LibriSpeech/Common Voice) |
| Real-Time Factor (RTF) | < 0.5 | –ê—É–¥–∏–æ 10 —Å–µ–∫—É–Ω–¥ –Ω–∞ M1/M2 |
| –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ | < 3GB | –ú–æ–¥–µ–ª—å 1.7B, FP32 |
| –í—Ä–µ–º—è cold start | < 5 —Å–µ–∫—É–Ω–¥ | –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏ + –ø–µ—Ä–≤—ã–π –∏–Ω—Ñ–µ—Ä–µ–Ω—Å |
| –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ | > 80% | Integration + E2E —Ç–µ—Å—Ç—ã |

## ‚ö†Ô∏è –†–∏—Å–∫–∏ –∏ –ú–∏—Ç–∏–≥–∞—Ü–∏—è

| –†–∏—Å–∫ | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –í–ª–∏—è–Ω–∏–µ | –ú–∏—Ç–∏–≥–∞—Ü–∏—è |
|------|-------------|---------|-----------|
| –ù–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Ç–æ—á–Ω–æ—Å—Ç–∏ —Å Python | –°—Ä–µ–¥–Ω—è—è | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ | –ü–æ—à–∞–≥–æ–≤–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –≤—Å–µ–≥–æ –ø–∞–π–ø–ª–∞–π–Ω–∞, —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö –≤—ã—Ö–æ–¥–æ–≤ |
| –ù–∏–∑–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å LLM | –°—Ä–µ–¥–Ω—è—è | –í—ã—Å–æ–∫–æ–µ | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å KV-cache, mixed precision, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è batch size |
| –ü—Ä–æ–±–ª–µ–º—ã —Å –¥–ª–∏–Ω–Ω—ã–º–∏ –∞—É–¥–∏–æ | –í—ã—Å–æ–∫–∞—è | –°—Ä–µ–¥–Ω–µ–µ | –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å chunking, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –¥–ª–∏–Ω–∞—Ö |
| OOM (Out of Memory) –Ω–∞ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–∞—Ö | –°—Ä–µ–¥–Ω—è—è | –í—ã—Å–æ–∫–æ–µ | Streaming inference, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è batch size, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∞–º—è—Ç–∏ |

## üîó –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### –ó–∞–≤–∏—Å–∏—Ç –æ—Ç:
- **–§–∞–∑–∞ 1**: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ Qwen3 model
- **–§–∞–∑–∞ 2**: Feature Extractor
- **–§–∞–∑–∞ 3**: AuT Encoder

### –ë–ª–æ–∫–∏—Ä—É–µ—Ç:
- –†–µ–ª–∏–∑ –ø—Ä–æ–¥—É–∫—Ç–∞
- –ü—É–±–ª–∏–∫–∞—Ü–∏—é –∫—Ä–µ–π—Ç–∞ –Ω–∞ crates.io

## üß™ –ü–ª–∞–Ω –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 1. Unit-—Ç–µ—Å—Ç—ã
- –¢–µ—Å—Ç Audio Projector (—Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏, –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –ø—Ä–æ–µ–∫—Ü–∏–∏)
- –¢–µ—Å—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –º–æ–¥–µ–ª–∏
- –¢–µ—Å—Ç —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏–∏ –∏ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è

### 2. Integration-—Ç–µ—Å—Ç—ã
- End-to-end —Ç–µ—Å—Ç –Ω–∞ –∫–æ—Ä–æ—Ç–∫–æ–º –∞—É–¥–∏–æ (1-2 —Å–µ–∫—É–Ω–¥—ã)
- –¢–µ—Å—Ç batch inference (–Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤)
- –¢–µ—Å—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ (–Ω–µ–≤–µ—Ä–Ω—ã–π –ø—É—Ç—å, –±–∏—Ç—ã–π —Ñ–∞–π–ª)

### 3. Acceptance-—Ç–µ—Å—Ç—ã
- –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —ç—Ç–∞–ª–æ–Ω–Ω—ã—Ö —Ñ—Ä–∞–∑ –∏–∑ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –Ω–∞–±–æ—Ä–∞
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ WER —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π Python —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–∞—Ö (–µ—Å–ª–∏ –º–æ–¥–µ–ª—å multilingual)

### 4. Performance-—Ç–µ—Å—Ç—ã
- Benchmark –Ω–∞ –∞—É–¥–∏–æ —Ä–∞–∑–Ω–æ–π –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (1s, 5s, 10s, 30s, 60s)
- –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —É–∑–∫–∏—Ö –º–µ—Å—Ç (feature extraction, encoder, llm)
- –ò–∑–º–µ—Ä–µ–Ω–∏–µ peak memory usage
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ CPU vs Metal –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### 5. Stress-—Ç–µ—Å—Ç—ã
- –û–±—Ä–∞–±–æ—Ç–∫–∞ 100+ —Ñ–∞–π–ª–æ–≤ –ø–æ–¥—Ä—è–¥ (–ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏)
- –û—á–µ–Ω—å –¥–ª–∏–Ω–Ω–æ–µ –∞—É–¥–∏–æ (5+ –º–∏–Ω—É—Ç)
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ AsrPipeline

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   AsrPipeline                       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                             ‚îÇ
‚îÇ  ‚îÇ FeatureExtractor  ‚îÇ WAV ‚Üí Mel Spectrogram       ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                             ‚îÇ
‚îÇ            ‚îÇ                                        ‚îÇ
‚îÇ            ‚ñº                                        ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                             ‚îÇ
‚îÇ  ‚îÇ   AuT Encoder     ‚îÇ Mel ‚Üí Audio Embeddings      ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                             ‚îÇ
‚îÇ            ‚îÇ                                        ‚îÇ
‚îÇ            ‚ñº                                        ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                             ‚îÇ
‚îÇ  ‚îÇ  Audio Projector  ‚îÇ Encoder Dim ‚Üí LLM Dim       ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                             ‚îÇ
‚îÇ            ‚îÇ                                        ‚îÇ
‚îÇ            ‚ñº                                        ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                             ‚îÇ
‚îÇ  ‚îÇ    Qwen3 LLM      ‚îÇ Generate Text Token IDs     ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                             ‚îÇ
‚îÇ            ‚îÇ                                        ‚îÇ
‚îÇ            ‚ñº                                        ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                             ‚îÇ
‚îÇ  ‚îÇ    Tokenizer      ‚îÇ Token IDs ‚Üí Text            ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                             ‚îÇ
‚îÇ                                                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üìù –ü—Ä–∏–º–µ—Ä—ã –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### CLI
```bash
# –ü—Ä–æ—Å—Ç–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ
rustasr transcribe --model ./models/qwen3-asr-1.7b --audio speech.wav

# –° –≤—ã–±–æ—Ä–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
rustasr transcribe --model ./models/qwen3-asr-0.6b --audio input.wav --device metal

# Batch –æ–±—Ä–∞–±–æ—Ç–∫–∞
rustasr batch --model ./models/qwen3-asr-1.7b --input-dir ./audio_files/ --output results.json

# Benchmark
rustasr benchmark --model ./models/qwen3-asr-1.7b --test-set ./librispeech/
```

### –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ (Rust API)
```rust
use rustasr::{AsrPipeline, Device};

fn main() -> Result<()> {
    let pipeline = AsrPipeline::new(
        "models/qwen3-asr-1.7b",
        Device::Metal
    )?;

    let text = pipeline.transcribe("speech.wav")?;
    println!("Transcribed: {}", text);

    Ok(())
}
```

## üìö –†–µ—Ñ–µ—Ä–µ–Ω—Å—ã

- [Qwen3-ASR GitHub](https://github.com/QwenLM/Qwen3-ASR)
- [Qwen3 Model Documentation](https://huggingface.co/Qwen)
- [LibriSpeech Dataset (for testing)](https://www.openslr.org/12)
- [WER Calculation](https://en.wikipedia.org/wiki/Word_error_rate)
